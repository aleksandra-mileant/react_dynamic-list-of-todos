(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{20:function(e,t,s){},21:function(e,t,s){},22:function(e,t,s){},24:function(e,t,s){},25:function(e,t,s){"use strict";s.r(t);var n=s(12),c=s.n(n),a=s(4),r=s(5),o=s(3),i=s(14),l=s(6),d=s(7),u=s(9),h=s(8),j=s(2),p=s.n(j),b=s(1),v=s.n(b),m=(s(20),s(21),s(22),s(11),s(13)),f=s.n(m),O=s(0),x=function(e){var t=e.todos,s=e.selectUser,n=e.changeTodoStatus;return Object(O.jsxs)("div",{className:"TodoList",children:[Object(O.jsx)("h2",{children:"Todos:"}),Object(O.jsx)("div",{className:"TodoList__list-container",children:Object(O.jsx)("ul",{className:"TodoList__list",children:t.map((function(e){return Object(O.jsxs)("li",{className:f()("TodoList__item",{"TodoList__item--unchecked":!e.completed,"TodoList__item--checked":e.completed}),children:[Object(O.jsxs)("label",{htmlFor:"".concat(e.id),children:[Object(O.jsx)("input",{type:"checkbox",id:"".concat(e.id),checked:e.completed,onChange:function(){return n(e.id)}}),Object(O.jsx)("p",{children:e.title})]}),Object(O.jsxs)("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",onClick:function(){return s(e.userId)},children:["User\xa0#",e.userId]})]},e.id)}))})})]})};s(24);var _=function(e){var t="https://mate.academy/students-api/users/".concat(e);return fetch(t).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},U=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={user:null,hasLoadError:!1},e}return Object(d.a)(s,[{key:"componentDidUpdate",value:function(e){var t=this.props.userId;e.userId!==t&&this.loadUser()}},{key:"loadUser",value:function(){var e=Object(a.a)(p.a.mark((function e(){var t,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.userId,e.prev=1,e.next=4,_(t);case 4:s=e.sent,this.setState({user:s,hasLoadError:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({hasLoadError:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.user,s=e.hasLoadError,n=this.props.clearUser;return Object(O.jsx)("div",{className:"CurrentUser",children:s?Object(O.jsx)("div",{children:"User not found"}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:"CurrentUser__title",children:Object(O.jsx)("span",{children:"Selected user: ".concat(null===t||void 0===t?void 0:t.id)})}),Object(O.jsx)("h3",{className:"CurrentUser__name",children:null===t||void 0===t?void 0:t.name}),Object(O.jsx)("p",{className:"CurrentUser__email",children:null===t||void 0===t?void 0:t.email}),Object(O.jsx)("p",{className:"CurrentUser__phone",children:null===t||void 0===t?void 0:t.phone}),Object(O.jsx)("button",{type:"button",onClick:function(){return n()},children:"Clear"})]})})}}]),s}(v.a.Component),y=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={todos:[],selectedUserId:0,title:"",status:"all"},e.selectUser=function(t){e.setState({selectedUserId:t})},e.clearUserInfo=function(){e.setState({selectedUserId:0})},e.getStatus=function(e){switch(e){case"completed":return!0;case"active":return!1;default:return"all"}},e.changeTodoStatus=function(t){var s=e.state.todos,n=Object(i.a)(s).map((function(e){return e.id===t?Object(o.a)(Object(o.a)({},e),{},{completed:!e.completed}):e}));e.setState((function(){return{todos:n}}))},e.filterTitle=function(t){var s=e.state,n=s.status,c=s.title;return"all"===e.getStatus(n)?t.title.includes(c):t.title.includes(c)&&t.completed===e.getStatus(n)},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(r.a)({},n,c))}))},e}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e=Object(a.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate.academy/students-api/todos").then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}));case 2:t=e.sent,this.setState({todos:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.selectedUserId,s=e.todos,n=s.filter(this.filterTitle);return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{className:"App__sidebar",children:[Object(O.jsx)("input",{className:"input is-primary",placeholder:"Wrire a title",name:"title",type:"text",value:this.state.title,onChange:this.handleChange}),Object(O.jsx)("div",{className:"select is-primary",children:Object(O.jsxs)("select",{name:"status",value:this.state.status,onChange:this.handleChange,children:[Object(O.jsx)("option",{value:"all",children:"all"}),Object(O.jsx)("option",{value:"completed",children:"completed"}),Object(O.jsx)("option",{value:"active",children:"active"})]})}),Object(O.jsx)(x,{todos:n,selectUser:this.selectUser,changeTodoStatus:this.changeTodoStatus})]}),s.length>0&&Object(O.jsx)("div",{className:"App__content",children:Object(O.jsx)("div",{className:"App__content-container",children:t?Object(O.jsx)(U,{userId:this.state.selectedUserId,clearUser:this.clearUserInfo}):Object(O.jsx)("div",{className:"content is-large has-text-centered has-text-weight-bold",children:"No user selected"})})})]})}}]),s}(v.a.Component),g=y;c.a.render(Object(O.jsx)(g,{}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.06b29f75.chunk.js.map