(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{19:function(e,t,s){},20:function(e,t,s){},22:function(e,t,s){},24:function(e,t,s){},25:function(e,t,s){"use strict";s.r(t);var n=s(12),r=s.n(n),a=s(2),c=s(3),o=s(5),i=s(4),l=s(1),u=s.n(l),d=(s(19),s(20),s(8)),h=s(9),j=s(7),p=s(14),b=s(6),v=s.n(b),f=(s(22),s(11),s(13)),m=s.n(f);var O=function(e){var t="https://mate.academy/students-api/users/".concat(e);return fetch(t).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},x=s(0),_=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(a.a)(this,s);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={todos:[],title:"",status:"all"},e.getStatus=function(e){switch(e){case"completed":return!0;case"active":return!1;default:return"all"}},e.changeTodoStatus=function(t){var s=e.state.todos,n=Object(p.a)(s).map((function(e){return e.id===t?Object(j.a)(Object(j.a)({},e),{},{completed:!e.completed}):e}));e.setState((function(){return{todos:n}}))},e.filterTitle=function(t){var s=e.state,n=s.status,r=s.title;return"all"===e.getStatus(n)?t.title.toLocaleLowerCase().includes(r.toLocaleLowerCase()):t.title.toLocaleLowerCase().includes(r.toLowerCase())&&t.completed===e.getStatus(n)},e.handleChange=function(t){var s=t.target,n=s.name,r=s.value;e.setState((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(h.a)({},n,r))}))},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=Object(d.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate.academy/students-api/todos").then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}));case 2:t=e.sent,this.setState({todos:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,s=t.todos,n=t.title,r=t.status,a=s.filter(this.filterTitle);return Object(x.jsxs)("div",{className:"TodoList",children:[Object(x.jsx)("input",{className:"input is-primary",placeholder:"Wrire a title",name:"title",type:"text",value:n,onChange:this.handleChange}),Object(x.jsx)("div",{className:"select is-primary",children:Object(x.jsxs)("select",{name:"status",value:r,onChange:this.handleChange,children:[Object(x.jsx)("option",{value:"all",children:"all"}),Object(x.jsx)("option",{value:"completed",children:"completed"}),Object(x.jsx)("option",{value:"active",children:"active"})]})}),Object(x.jsx)("h2",{children:"Todos:"}),Object(x.jsx)("div",{className:"TodoList__list-container",children:Object(x.jsx)("ul",{className:"TodoList__list",children:a.map((function(t){return Object(x.jsxs)("li",{className:m()("TodoList__item",{"TodoList__item--unchecked":!t.completed,"TodoList__item--checked":t.completed}),children:[Object(x.jsxs)("label",{htmlFor:"".concat(t.id),children:[Object(x.jsx)("input",{type:"checkbox",id:"".concat(t.id),checked:t.completed,onChange:function(){return e.changeTodoStatus(t.id)}}),Object(x.jsx)("p",{children:t.title})]}),Object(x.jsxs)("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",onClick:function(){return e.props.selectUser(t.userId)},children:["User\xa0#",t.userId]})]},t.id)}))})})]})}}]),s}(u.a.Component),y=(s(24),function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(a.a)(this,s);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={user:null,hasLoadError:!1},e}return Object(c.a)(s,[{key:"componentDidUpdate",value:function(e){var t=this.props.userId;e.userId!==t&&this.loadUser()}},{key:"loadUser",value:function(){var e=Object(d.a)(v.a.mark((function e(){var t,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.userId,e.prev=1,e.next=4,O(t);case 4:s=e.sent,this.setState({user:s,hasLoadError:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({hasLoadError:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.user,s=e.hasLoadError,n=this.props.clearUser;return Object(x.jsx)("div",{className:"CurrentUser",children:s?Object(x.jsx)("div",{children:"User not found"}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"CurrentUser__title",children:Object(x.jsx)("span",{children:"Selected user: ".concat(null===t||void 0===t?void 0:t.id)})}),Object(x.jsx)("h3",{className:"CurrentUser__name",children:null===t||void 0===t?void 0:t.name}),Object(x.jsx)("p",{className:"CurrentUser__email",children:null===t||void 0===t?void 0:t.email}),Object(x.jsx)("p",{className:"CurrentUser__phone",children:null===t||void 0===t?void 0:t.phone}),Object(x.jsx)("button",{type:"button",className:"TodoList__user-button TodoList__user-button--selected button",onClick:function(){return n()},children:"Clear"})]})})}}]),s}(u.a.Component)),U=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(a.a)(this,s);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedUserId:0},e.selectUser=function(t){e.setState({selectedUserId:t})},e.clearUserInfo=function(){e.setState({selectedUserId:0})},e}return Object(c.a)(s,[{key:"render",value:function(){var e=this.state.selectedUserId;return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("div",{className:"App__sidebar",children:Object(x.jsx)(_,{userId:this.state.selectedUserId,selectUser:this.selectUser})}),Object(x.jsx)("div",{className:"App__content",children:Object(x.jsx)("div",{className:"App__content-container",children:e?Object(x.jsx)(y,{userId:this.state.selectedUserId,clearUser:this.clearUserInfo}):Object(x.jsx)("div",{className:"content is-large has-text-centered has-text-weight-bold",children:"No user selected"})})}),")"]})}}]),s}(u.a.Component),C=U;r.a.render(Object(x.jsx)(C,{}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.445c7cb1.chunk.js.map